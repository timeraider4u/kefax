//----------------------------------------------------------------------
//----------------------------------------------------------------------
package at.jku.weiner.cpreprocess
language cPreprocess
//----------------------------------------------------------------------
split-lexer=true
source file="res/Test0032_Misnesting1.c"
//----------------------------------------------------------------------
lexer-tokens
	HASH DEFINE WS ID LPAREN ID RPAREN WS LPAREN SPECIAL SPECIAL LPAREN ID RPAREN RPAREN NEWLINE
	HASH DEFINE WS ID LPAREN ID RPAREN WS ID LPAREN SPECIAL RPAREN NEWLINE
	ID WS LPAREN ID RPAREN NEWLINE
//----------------------------------------------------------------------
(Model
	units+=
	(TranslationUnit
		group=
		(GroupOpt
			lines+=
			(PreprocessorDirectives
				directive=
				(DefineFunctionLikeMacro
					id++"FOO",
					list=
					(IdentifierList
						id+*"[x]"
					),
					string++"(3+(x))"
				)
			),
			(PreprocessorDirectives
				directive=
				(DefineFunctionLikeMacro
					id++"BAR",
					list=
					(IdentifierList
						id+*"[x]"
					),
					string++"x(1)"
				)
			),
			(Code
				code++"BAR (FOO)"
			)
			
		)
	)
)
//----------------------------------------------------------------------
output file="bin/Test0032_Misnesting1.c.i"
expected file="expected/Test0032_Misnesting1.c"
//replacePatterns file="res/Patterns.txt"
//----------------------------------------------------------------------
//----------------------------------------------------------------------
