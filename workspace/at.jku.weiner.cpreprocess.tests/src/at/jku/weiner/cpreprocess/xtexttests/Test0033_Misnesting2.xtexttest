//----------------------------------------------------------------------
//----------------------------------------------------------------------
package at.jku.weiner.cpreprocess
language cPreprocess
//----------------------------------------------------------------------
split-lexer=true
source file="res/Test0033_Misnesting2.c"
//----------------------------------------------------------------------
lexer-tokens
	HASH DEFINE WS ID LPAREN ID RPAREN WS ID LPAREN SPECIAL 
		SPECIAL ID 
		SPECIAL SPECIAL 
		SPECIAL ID 
		SPECIAL COMMA WS ID 
		NEWLINE
	ID LPAREN SPECIAL RPAREN COMMA WS SPECIAL RPAREN SPECIAL NEWLINE
//----------------------------------------------------------------------
(Model
	units+=
	(TranslationUnit
		group=
		(GroupOpt
			lines+=
			(PreprocessorDirectives
				directive=
				(DefineFunctionLikeMacro
					id++"myprintf",
					list=
					(IdentifierList
						id+*"[x]"
					),
					string++"printf(\\\"%d%d\\\\n\\\", x"
				)
			),
			(Code
				code++"myprintf(3), 5);"
			)
			
		)
	)
)
//----------------------------------------------------------------------
output file="bin/Test0033_Misnesting2.c.i"
expected file="expected/Test0033_Misnesting2.c"
//replacePatterns file="res/Patterns.txt"
//----------------------------------------------------------------------
//----------------------------------------------------------------------
