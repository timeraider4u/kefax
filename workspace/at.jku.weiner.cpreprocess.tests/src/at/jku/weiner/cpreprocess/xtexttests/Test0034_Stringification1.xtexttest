//----------------------------------------------------------------------
//----------------------------------------------------------------------
package at.jku.weiner.cpreprocess
language cPreprocess
//----------------------------------------------------------------------
split-lexer=true
source file="res/Test0034_Stringification1.c"
//----------------------------------------------------------------------
lexer-tokens
	HASH DEFINE WS ID LPAREN ID RPAREN WS ID LPAREN HASH ID WS
		SPECIAL SPECIAL SPECIAL SPECIAL SPECIAL ID SPECIAL
		COMMA WS ID RPAREN 
		NEWLINE
	ID LPAREN SPECIAL RPAREN SPECIAL NEWLINE
	ID WS ID WS SPECIAL WS SPECIAL SPECIAL NEWLINE
	ID LPAREN ID RPAREN SPECIAL NEWLINE
//----------------------------------------------------------------------
(Model
	units+=
	(TranslationUnit
		group=
		(GroupOpt
			lines+=
			(PreprocessorDirectives
				directive=
				(DefineFunctionLikeMacro
					id++"DEBUG",
					list=
					(IdentifierList
						id+*"[X]"
					),
					string++"printf(#X \\\"=%d\\\\n\\\", X)"
				)
			),
			(Code
				code++"DEBUG(5);"
			),
			(Code
				code++"int x = 5;"
			),
			(Code
				code++"DEBUG(x);"
			)
		)
	)
)
//----------------------------------------------------------------------
output file="bin/Test0034Test0034_Stringification1.c.i"
expected file="expected/Test0034_Stringification1.c"
//replacePatterns file="res/Patterns.txt"
//----------------------------------------------------------------------
//----------------------------------------------------------------------
