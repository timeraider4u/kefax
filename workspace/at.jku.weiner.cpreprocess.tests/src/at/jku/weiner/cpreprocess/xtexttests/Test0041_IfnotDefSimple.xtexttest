//----------------------------------------------------------------------
//----------------------------------------------------------------------
package at.jku.weiner.cpreprocess
language cPreprocess
//----------------------------------------------------------------------
split-lexer=true
source file="res/Test0041_IfnotDefSimple.c"
//----------------------------------------------------------------------
lexer-tokens
	ID NEWLINE
	HASH IFNOTDEF WS ID NEWLINE
		WS HASH DEFINE WS ID WS ID NEWLINE
		WS ID WS ID WS SPECIAL WS SPECIAL SPECIAL NEWLINE
	HASH ENDIF WS WS NEWLINE
	ID NEWLINE
//----------------------------------------------------------------------
(Model
	units+=
	(TranslationUnit
		group=
		(GroupOpt
			lines+=
			(Code
				code++"FOO"
			),
			(PreprocessorDirectives
				directive=
				(ConditionalDirective
					conditional=
					(IfNotDefConditional
						id++"FOOBAR",
						group=
						(GroupOpt
							lines+=
							(PreprocessorDirectives
								directive=
								(DefineObjectMacro
									id++"FOO",
									string++"BAR"
								)
							),
							(Code
								code++"	int foo = 0;"
							)
						)
					)
				)
			),
			(Code
				code++"FOO"
			)
		)
	)
)
//----------------------------------------------------------------------
output file="bin/Test0041_IfnotDefSimple.c.i"
expected file="expected/Test0041_IfnotDefSimple.c"
//replacePatterns file="res/Patterns.txt"
//----------------------------------------------------------------------
//----------------------------------------------------------------------
